# Audit 3 ‚Äî VCb03

## 1. –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### A. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–µ–∫–∞
- **Backend:** Python 3.11‚Äì3.12, Flask (—Ä—É—á–Ω–æ–π `pdf_server.py`), –ë–î –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–≤—Å—ë –≤ pandas), ORM –Ω–µ—Ç, –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ pandas/pdfplumber/WeasyPrint/openpyxl, –µ—Å—Ç—å in-memory rate limiting –∏ –∫—ç—à LLM-–æ—Ç–≤–µ—Ç–æ–≤.
- **Frontend:** TypeScript 4.9 (Create React App + Webpack 5), React 18 —Å MUI 5 –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º state —á–µ—Ä–µ–∑ —Ö—É–∫–∏, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Recharts –∏ react-window, PDF-—ç–∫—Å–ø–æ—Ä—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é (WeasyPrint –Ω–∞ –±—ç–∫–µ, —à–∞–±–ª–æ–Ω—ã –≤ TS).
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** OpenAI (`backend/llm/openai_helper.py`), YandexGPT (`backend/llm/yandex_gpt_helper.py`), Sber GigaChat (`backend/llm/gigachat_helper.py`); –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–µ–ª–∞–µ—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ (`frontend/src/types/index.ts`).

### B. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
project/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ pdf_server.py ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π Flask API (~647 —Å—Ç—Ä–æ–∫): –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑, –≤—ã–∑–æ–≤—ã LLM, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF, rate limiting.
‚îÇ   ‚îú‚îÄ‚îÄ llm/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_processor.py ‚Äî –¥–∏—Å–ø–µ—Ç—á–µ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ openai_helper.py / yandex_gpt_helper.py / gigachat_helper.py ‚Äî –∫–ª–∏–µ–Ω—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.
‚îÇ   ‚îú‚îÄ‚îÄ config.py ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ .env, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã rate limiting/cache/TestMode.
‚îÇ   ‚îú‚îÄ‚îÄ errors.py ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ HTTP –æ—à–∏–±–∫–∏.
‚îÇ   ‚îú‚îÄ‚îÄ types.py ‚Äî TypedDict –¥–ª—è API-–æ—Ç–≤–µ—Ç–æ–≤.
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt ‚Äî 16 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–µ–∑ pin.
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile ‚Äî python:3.12-slim + —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–∏–±—ã –¥–ª—è WeasyPrint.
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ package.json / tsconfig.json ‚Äî CRA 5, strict mode –≤–∫–ª—é—á—ë–Ω.
‚îÇ   ‚îú‚îÄ‚îÄ src/App.tsx ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (~496 —Å—Ç—Ä–æ–∫) —Å –∑–∞–≥—Ä—É–∑–∫–æ–π, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø—Ä–æ–ø—É—Å–∫–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º LLM –∏ –¥–∏–∞–ª–æ–≥–∞–º–∏.
‚îÇ   ‚îú‚îÄ‚îÄ src/components/AnalysisResult.tsx ‚Äî —ç–∫—Ä–∞–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (~700 —Å—Ç—Ä–æ–∫) —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–º.
‚îÇ   ‚îú‚îÄ‚îÄ src/components/* ‚Äî FileUpload, ModelSelector, —Ç–∞–±–ª–∏—Ü—ã, –¥–∏–∞–ª–æ–≥–∏ AI/manual fill.
‚îÇ   ‚îú‚îÄ‚îÄ src/hooks/ ‚Äî useDatasetStats, useAutoCharts, useDebouncedValue.
‚îÇ   ‚îú‚îÄ‚îÄ src/utils/pdf*.ts ‚Äî –±–∏–ª–¥–µ—Ä HTML –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è SVG‚ÜíPNG.
‚îÇ   ‚îú‚îÄ‚îÄ src/api/index.ts ‚Äî axios-–∫–ª–∏–µ–Ω—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤.
‚îÇ   ‚îú‚îÄ‚îÄ src/__tests__ ‚Äî 6 jest/RTL smoke-—Ç–µ—Å—Ç–æ–≤.
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile ‚Äî –±–∏–ª–¥ —á–µ—Ä–µ–∑ Node 20 ‚Üí nginx.
‚îú‚îÄ‚îÄ tests/ ‚Äî pytest-–Ω–∞–±–æ—Ä –¥–ª—è backend (–∑–∞–≥—Ä—É–∑–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –æ—Ç—á—ë—Ç—ã, –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏).
‚îú‚îÄ‚îÄ docs/ ‚Äî README, ARCHITECTURE, API, DEPLOYMENT, instruction-no-ssl.
‚îú‚îÄ‚îÄ .github/workflows/ci.yml ‚Äî GitHub Actions (—Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –±–ª–æ–∫–∞).
‚îú‚îÄ‚îÄ docker-compose.yml ‚Äî dev-—Å—Ç–µ–∫ (Flask :5000 + frontend :3000 –≤ TEST_MODE).
‚îú‚îÄ‚îÄ –∫—Ä—É–ø–Ω—ã–µ sample-–¥–∞–Ω–Ω—ã–µ (car_prices*.csv/xlsx, test_cars-*.csv).
‚îî‚îÄ‚îÄ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã (.env, README.md, SECURITY.md, —Å–∫—Ä–∏–ø—Ç—ã —Ñ–∏–∫—Å–æ–≤).
```

### C. –†–∞–∑–º–µ—Ä—ã –∏ –º–µ—Ç—Ä–∏–∫–∏
- –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤: 114 (–±–µ–∑ `.venv/node_modules`), –∫–æ–¥–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî 52.
- Python LOC: ~1‚ÄØ413 —Å—Ç—Ä–æ–∫ (63 —Ñ—É–Ω–∫—Ü–∏–π; –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª `backend/pdf_server.py` ~647 —Å—Ç—Ä–æ–∫).
- TypeScript LOC: ~3‚ÄØ054 —Å—Ç—Ä–æ–∫ (‚âà88 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç/—Ñ—É–Ω–∫—Ü–∏–π; —Å–∞–º—ã–µ –∫—Ä—É–ø–Ω—ã–µ `AnalysisResult.tsx` 700 —Å—Ç—Ä–æ–∫ –∏ `App.tsx` 496 —Å—Ç—Ä–æ–∫).
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π: ~22 —Å—Ç—Ä–æ–∫–∏ –≤ backend, ~35 —Å—Ç—Ä–æ–∫ –≤–æ frontend.
- –¢–æ–ø-5 –∫—Ä—É–ø–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: `frontend/src/components/AnalysisResult.tsx` (700), `backend/pdf_server.py` (647), `frontend/src/App.tsx` (496), `frontend/src/utils/pdfReportBuilders.ts` (217), `frontend/src/api/index.ts` (189).
- –¢–µ—Å—Ç—ã –µ—Å—Ç—å: backend PyTest (9 —Ñ–∞–π–ª–æ–≤) –ø–æ–∫—Ä—ã–≤–∞–µ—Ç upload/report/edge-cases; frontend ‚Äî 6 jest/RTL smoke-—Ç–µ—Å—Ç–æ–≤ + CRA —à–∞–±–ª–æ–Ω `App.test.tsx`.

## 2. –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º

### A. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
üî¥ **SECURITY ISSUE #1**  
–§–∞–π–ª: `.env:2-9`, `backend/.env:2-11`  
–¢–∏–ø: –•–∞—Ä–¥–∫–æ–¥ LLM API –∫–ª—é—á–µ–π  
–ö–æ–¥: `OPENAI_API_KEY=sk-proj-...`, `YANDEX_API_KEY=...`, `GIGACHAT_CREDENTIALS=...`  
–†–∏—Å–∫: **–í–´–°–û–ö–ò–ô** ‚Äì —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ —É–∂–µ –ª–µ–∂–∞—Ç –≤ git –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª—é–±—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã/—Ñ–æ—Ä–∫–∏.

üî¥ **SECURITY ISSUE #2**  
–§–∞–π–ª: `backend/config.py:36`, `backend/pdf_server.py:78-111`  
–¢–∏–ø: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏  
–ö–æ–¥: `API_KEY = os.getenv("API_KEY")  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ`, –∞ –≤ `_security_and_rate_limit` –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–ª—é—á–∞  
–†–∏—Å–∫: **–í–´–°–û–ö–ò–ô** ‚Äì –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –∫ `/api/*` –º–æ–∂–µ—Ç –¥–µ—Ä–≥–∞—Ç—å LLM —Å –Ω–∞—à–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏.

üî¥ **SECURITY ISSUE #3**  
–§–∞–π–ª: `backend/pdf_server.py:78-105`  
–¢–∏–ø: –û–±—Ö–æ–¥ rate limiting  
–ö–æ–¥: `_client_id()` –¥–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫—É `X-Forwarded-For` ‚Üí –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –æ–±—Ö–æ–¥–∏—Ç –ª–∏–º–∏—Ç.  
–†–∏—Å–∫: **–í–´–°–û–ö–ò–ô** ‚Äì DoS + –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ LLM-–≤—ã–∑–æ–≤—ã –∑–∞ —á—É–∂–æ–π —Å—á—ë—Ç.

üî¥ **SECURITY ISSUE #4**  
–§–∞–π–ª: `docker-compose.yml:5-20`, `README.md:158-163`, `instruction-no-ssl.md`  
–¢–∏–ø: HTTPS –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ  
–ö–æ–¥: —Å–µ—Ä–≤–∏—Å—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∫–∞–∫ `http://localhost:5000` / `:3000`, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–±—Å—É–∂–¥–∞—é—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ TLS.  
–†–∏—Å–∫: **–í–´–°–û–ö–ò–ô** ‚Äì –ª—é–±—ã–µ —Ç–æ–∫–µ–Ω—ã/–¥–∞—Ç–∞—Å–µ—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ, –ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.

üî¥ **SECURITY ISSUE #5**  
–§–∞–π–ª: `backend/llm/yandex_gpt_helper.py:39-46`  
–¢–∏–ø: –õ–æ–≥–∏—Ä—É—é—Ç—Å—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (IAM —Ç–æ–∫–µ–Ω –∏ folder id)  
–ö–æ–¥: `logger.debug(f"Headers: {json.dumps({k: v[:10] + '...' ...})}")`  
–†–∏—Å–∫: **–°–†–ï–î–ù–ò–ô** ‚Äì –¥–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º –¥–∞—ë—Ç –ø—Ä–µ—Ñ–∏–∫—Å –¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –∏ –ø–æ–ª–Ω—ã–π folder-id, —É–ø—Ä–æ—â–∞—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—é.

### B. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏
üêõ **BUG #1**  
–§–∞–π–ª: `backend/pdf_server.py:620-645`  
–¢–∏–ø: –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞  
–ö–æ–¥: `_cleanup_before_request` –∑–∞–ø—É—Å–∫–∞–µ—Ç —á–∏—Å—Ç–∫—É, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `time.time() % 300 < 1`.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ–ø–∞–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É-–æ–∫–Ω–æ ‚Üí temp-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è, –∑–∞–Ω–∏–º–∞—è –¥–∏—Å–∫.

üêõ **BUG #2**  
–§–∞–π–ª: `backend/pdf_server.py:225-237`  
–¢–∏–ø: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ PDF  
–ö–æ–¥: –±–µ—Ä—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ `pdf.pages[0]` –∏ –ø–µ—Ä–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `tables[0]`.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/—Ç–∞–±–ª–∏—Ü—ã PDF –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è ‚Üí –æ—Ç—á—ë—Ç—ã –Ω–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –ø—É—Å—Ç—ã–µ.

üêõ **BUG #3**  
–§–∞–π–ª: `.github/workflows/ci.yml:1-113`  
–¢–∏–ø: CI —á–∞—Å—Ç–∏—á–Ω–æ –æ—Ç–∫–ª—é—á—ë–Ω  
–ö–æ–¥: —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –∫–æ—Ä–Ω–µ–≤—ã—Ö –±–ª–æ–∫–∞ `name/on/jobs`; –≤—Ç–æ—Ä–æ–π –±–ª–æ–∫ (`frontend-build`/`backend-validate`) –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–π.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –∑–∞–¥–∞—á–∏ –∏–∑ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ (full backend pytest + CRA —Ç–µ—Å—Ç—ã) –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è, —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –Ω–µ –ª–æ–≤—è—Ç—Å—è.

### C. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
‚ö†Ô∏è **ARCHITECTURE ISSUE #1**  
–§–∞–π–ª: `frontend/src/components/AnalysisResult.tsx:1-700`  
–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ 700 —Å—Ç—Ä–æ–∫ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã, –æ—Ç—Ä–∏—Å–æ–≤–∫—É –≥—Ä–∞—Ñ–∏–∫–æ–≤, —ç–∫—Å–ø–æ—Ä—Ç PDF, —Ä–∞–±–æ—Ç—É —Å LLM –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é.  
–ù–∞—Ä—É—à–∞–µ—Ç: SRP/MVVM, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å/—Ä–µ—Å–∞–π–∫–ª–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏.

‚ö†Ô∏è **ARCHITECTURE ISSUE #2**  
–§–∞–π–ª: `frontend/src/App.tsx:1-496`  
–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞–ª god-object (upload, missing data workflow, AI/manual fill, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –∫–Ω–æ–ø–∫–∏ –∏ –¥–∏–∞–ª–æ–≥–∏).  
–ù–∞—Ä—É—à–∞–µ—Ç: Separation of Concerns, —É—Å–ª–æ–∂–Ω—è–µ—Ç —Å—Ç–µ–π—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ side effects.

‚ö†Ô∏è **ARCHITECTURE ISSUE #3**  
–§–∞–π–ª: `backend/pdf_server.py:1-647`  
–ü—Ä–æ–±–ª–µ–º–∞: –í –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ —Å–º–µ—à–∞–Ω—ã –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–æ–∫, —á—Ç–µ–Ω–∏–µ CSV/Excel/PDF, –∫–µ—à–∏, rate limiting, LLM-–≤—ã–∑–æ–≤—ã, PDF-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ AI-fill.  
–ù–∞—Ä—É—à–∞–µ—Ç: SRP, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—É—Å–∫–∏ –∏–ª–∏ –ø–æ–∫—Ä—ã—Ç—å unit-—Ç–µ—Å—Ç–∞–º–∏.

‚ö†Ô∏è **ARCHITECTURE ISSUE #4**  
–§–∞–π–ª: `frontend/src/hooks/useDatasetStats.ts:17-48`  
–ü—Ä–æ–±–ª–µ–º–∞: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∂—ë—Å—Ç–∫–æ –∑–∞–≤—è–∑–∞–Ω–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö (`['year','condition','odometer','mmr','sellingprice']`).  
–ù–∞—Ä—É—à–∞–µ—Ç: Open/Closed ‚Äî –ª—é–±–æ–π –∏–Ω–æ–π –¥–∞—Ç–∞—Å–µ—Ç –ª–æ–º–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Ñ–∏–ª—å—Ç—Ä—ã.

### D. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
üêå **PERFORMANCE ISSUE #1**  
–§–∞–π–ª: `backend/pdf_server.py:525-544`  
–ü—Ä–æ–±–ª–µ–º–∞: `fill_missing_ai` –¥–ª—è –∫–∞–∂–¥–æ–π –ø—É—Å—Ç–æ–π —è—á–µ–π–∫–∏ —Å—Ç—Ä–æ–∏—Ç –Ω–æ–≤—ã–π `pd.Series([True]*len(df))` –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∫–∞–¥—Ä –≤ –ª–æ–±.  
–ö–æ–¥: –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ü–∏–∫–ª `for col ... for idx, row in df[...]`.  
–≠—Ñ—Ñ–µ–∫—Ç: O(N¬≤) —Å—Ä–∞–≤–Ω–µ–Ω–∏–π, CPU/–ø–∞–º—è—Ç—å –±—ã—Å—Ç—Ä–æ —Ä–∞—Å—Ç—É—Ç –ø—Ä–∏ >~50k —Å—Ç—Ä–æ–∫; –≤–æ–∑–º–æ–∂–µ–Ω DoS.

üêå **PERFORMANCE ISSUE #2**  
–§–∞–π–ª: `frontend/src/App.tsx:205-248`  
–ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∞ ‚Äú–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë‚Äù –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø–∞–º—è—Ç—å (`newAllData = [...allLoadedData, ...result.table_data]`) –∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—É—Å–∫–∞–µ—Ç LLM-–∞–Ω–∞–ª–∏–∑ –ø–æ –≤—Å–µ–º—É –º–∞—Å—Å–∏–≤—É.  
–≠—Ñ—Ñ–µ–∫—Ç: –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Ä–æ–∂–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π, –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ 10k —Å—Ç—Ä–æ–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ minutes-long –ø—Ä–æ—Ü–µ—Å—Å + –¥–æ—Ä–æ–≥–∏–µ LLM-–≤—ã–∑–æ–≤—ã.

üêå **PERFORMANCE ISSUE #3**  
–§–∞–π–ª: `frontend/src/components/ManualFillDialog.tsx:15-32`  
–ü—Ä–æ–±–ª–µ–º–∞: –î–∏–∞–ª–æ–≥ –∑–∞–ø–æ–ª–Ω—è–µ—Ç `uniqueValues[col] = Array.from(new Set(...))` –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä, –¥–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–µ–Ω—è–ª–∏—Å—å.  
–≠—Ñ—Ñ–µ–∫—Ç: UI –ø–æ–¥–≤–∏—Å–∞–µ—Ç –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö, —Ö–æ—Ç—è –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞ –±—ç–∫–µ.

üêå **PERFORMANCE ISSUE #4**  
–§–∞–π–ª: `backend/pdf_server.py:82-111`  
–ü—Ä–æ–±–ª–µ–º–∞: –°–ª–æ–≤–∞—Ä—å `_rate_limit_store` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è; IP/–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–∑–¥–∞—ë—Ç –≤–µ—á–Ω—ã–π bucket.  
–≠—Ñ—Ñ–µ–∫—Ç: —Å–µ—Ä–≤–∏—Å –¥–µ—Ä–∂–∏—Ç –ø–∞–º—è—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–≥–æ ‚ÄúX-Forwarded-For‚Äù, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Ç–∞–∫—É—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–æ–π.

### E. Code Quality
üìù **CODE QUALITY ISSUE #1**  
–§–∞–π–ª: `backend/pdf_server.py:1-420`  
–ü—Ä–æ–±–ª–µ–º–∞: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π (upload_file/analyze/report) –±–µ–∑ type hints –∏ docstrings, –ª–æ–≥–∏–∫–∞ —á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ—à–∞–≥–æ–≤–æ–º —Ä–∞–∑–±–æ—Ä–µ.  
–°–ª–æ–∂–Ω–æ—Å—Ç—å: –≤—Ö–æ–¥–Ω—ã–µ/–≤—ã—Ö–æ–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã, IDE-–ø–æ–¥—Å–∫–∞–∑–∫–∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã.

üìù **CODE QUALITY ISSUE #2**  
–§–∞–π–ª: `backend/pdf_server.py:372-390` –∏ `586-603`  
–ü—Ä–æ–±–ª–µ–º–∞: –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ü–∏–∫–ª –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ `required_fields` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –¥–≤–∞–∂–¥—ã.  
–°–ª–æ–∂–Ω–æ—Å—Ç—å: –ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª–µ–π –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö ‚Üí –ª–µ–≥–∫–æ –æ—à–∏–±–∏—Ç—å—Å—è.

üìù **CODE QUALITY ISSUE #3**  
–§–∞–π–ª: `backend/pdf_server.py:259-275`  
–ü—Ä–æ–±–ª–µ–º–∞: `process_large_csv` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫.  
–°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å–æ–∑–¥–∞—ë—Ç –ª–æ–∂–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ‚Äú–±–æ–ª—å—à–∏—Ö CSV‚Äù.

üìù **CODE QUALITY ISSUE #4**  
–§–∞–π–ª: `frontend/src/components/ModelTest.tsx:5-77`  
–ü—Ä–æ–±–ª–µ–º–∞: –û—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–∏–º–∏—Ç–∞—Ü–∏—è –∫–ª–∏–∫–æ–≤ –ø–æ –º–æ–¥–µ–ª—è–º) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–±–æ—Ä–∫—É.  
–°–ª–æ–∂–Ω–æ—Å—Ç—å: –ª–∏—à–Ω–∏–π –±–∞–Ω–¥–ª —Ä–∞–∑–º–µ—Ä + –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä—è–Ω–∫–µ.

üìù **CODE QUALITY ISSUE #5**  
–§–∞–π–ª: `frontend/tsconfig.json:4-17`  
–ü—Ä–æ–±–ª–µ–º–∞: `allowJs: true` –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ç—è–Ω—É—Ç—å –Ω–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `.js` —Ñ–∞–π–ª—ã.  
–°–ª–æ–∂–Ω–æ—Å—Ç—å: –æ—Å–ª–∞–±–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å strict —Ä–µ–∂–∏–º–∞.

### F. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
üîß **INFRASTRUCTURE ISSUE #1**  
–ü—Ä–æ–±–ª–µ–º–∞: `.env` –∏ `backend/.env` —É–∂–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ git, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∑–∞–ø–∏—Å–∏ –≤ `.gitignore`.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: —É–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Å–ª–æ–∂–Ω–æ; –ª—é–±–æ–π —Ñ–æ—Ä–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–±–æ—á–∏–µ –∫–ª—é—á–∏.

üîß **INFRASTRUCTURE ISSUE #2**  
–ü—Ä–æ–±–ª–µ–º–∞: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ö—Ä–∞–Ω–∏—Ç —Ç—è–∂–µ–ª—ã–µ `car_prices*.csv/xlsx` (–¥–æ 88 –ú–ë) –±–µ–∑ Git LFS.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –∫–ª–æ–Ω—ã/CI –∑–∞–Ω–∏–º–∞—é—Ç –º–∏–Ω—É—Ç—ã, –¥–∏—Å–∫–æ–≤–∞—è –∫–≤–æ—Ç–∞ —Ä–∞—Å—Ç—ë—Ç, –∞–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–µ–Ω.

üîß **INFRASTRUCTURE ISSUE #3**  
–ü—Ä–æ–±–ª–µ–º–∞: `docker-compose.yml` –∂—ë—Å—Ç–∫–æ –≤–∫–ª—é—á–∞–µ—Ç `TEST_MODE=true`, –ø–æ—Ä—Ç—ã 5000/3000 –±–µ–∑ reverse proxy –∏ TLS.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª–∫–∏, prod-–ø—Ä–æ—Ñ–∏–ª—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

üîß **INFRASTRUCTURE ISSUE #4**  
–ü—Ä–æ–±–ª–µ–º–∞: `.github/workflows/ci.yml` –¥—É–±–ª–∏—Ä—É–µ—Ç workflow: –∏–∑-–∑–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö `name/on` GitHub –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.  
–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: backend pytest + CRA test/build –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è (—Å–º. BUG #3).

### G. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
üì¶ **DEPENDENCY ISSUE #1**  
–§–∞–π–ª: `backend/requirements.txt`  
–ü—Ä–æ–±–ª–µ–º–∞: –ù–∏ –æ–¥–∏–Ω –ø–∞–∫–µ—Ç –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω (`Flask`, `requests`, `openai`, `gigachat`, `WeasyPrint`, `pytest*`), –µ—Å—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`Pillow`, `pytesseract`, `python-docx`).  
–†–∏—Å–∫: –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Ä–∞–∑–¥—É–≤–∞—é—Ç—Å—è –æ–±—Ä–∞–∑—ã –∏ attack surface.

üì¶ **DEPENDENCY ISSUE #2**  
–§–∞–π–ª: `frontend/package.json`  
–ü—Ä–æ–±–ª–µ–º–∞: `react-scripts@5.0.1`, `axios@1.10.0`, `@types/node@16.18.x`, `@types/jest@27.x` —É—Å—Ç–∞—Ä–µ–ª–∏, –Ω–µ—Ç audit/fix.  
–†–∏—Å–∫: security fixes –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è, CRA 5 –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç modern build –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

üì¶ **DEPENDENCY ISSUE #3**  
–§–∞–π–ª: `package.json` –≤ –∫–æ—Ä–Ω–µ  
–ü—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª–∏—Ä—É–µ—Ç —á–∞—Å—Ç—å MUI-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (node_modules/ —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç).  
–†–∏—Å–∫: –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, npm audit —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –¥–≤—É–º package.json —Å—Ä–∞–∑—É.

## 3. –ê–Ω–∞–ª–∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### üêç Python
- `requests.post` –≤ `backend/llm/yandex_gpt_helper.py:63-74` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ `timeout`, –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–∏—Å–∞–µ—Ç –¥–æ —Ç–∞–π–º–∞—É—Ç–∞ TCP.
- –ü–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ–µ `except Exception` (–Ω–∞–ø—Ä–∏–º–µ—Ä `backend/pdf_server.py:423-427`, `510-513`, `615-618`) –≥–ª—É—à–∏—Ç –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ –∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`_rate_limit_store`, `_analysis_cache`, `_datasets`) –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã –Ω–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏, –Ω–∏ –±—ç–∫–≥—Ä–∞—É–Ω–¥-–æ—á–∏—Å—Ç–∫–æ–π ‚Üí –ø—Ä–∏ gunicorn/uwsgi –±—É–¥—É—Ç –≥–æ–Ω–∫–∏ –∏ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏.

### ‚öõÔ∏è JS/TS
- –ù–µ—Ç Error Boundary –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`frontend/src/index.tsx` –º–æ–Ω—Ç–∏—Ä—É–µ—Ç `<App />` –Ω–∞–ø—Ä—è–º—É—é). –õ—é–±–∞—è –æ—à–∏–±–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ä–æ–Ω—è–µ—Ç –≤—Å—ë SPA.
- –í `frontend/src/components/AnalysisResult.tsx` –Ω–µ—Å–∫–æ–ª—å–∫–æ `useEffect` —Å–æ —Å–∫—Ä—ã—Ç—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (–µ—Å—Ç—å `// eslint-disable-next-line` –æ–∫–æ–ª–æ 205 —Å—Ç—Ä–æ–∫–∏), –∏–∑-–∑–∞ —á–µ–≥–æ –¥–∞–Ω–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–æ.
- –î–∏–∞–ª–æ–≥–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤ (`ManualFillDialog` –∏ `AIFillDialog`) –≤—ã—á–∏—Å–ª—è—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ JSX –±–µ–∑ `useMemo`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç—ã –¥–∞–∂–µ –ø—Ä–∏ –º–∞–ª—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö state.

## 4. –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫

| –ú–µ—Ç—Ä–∏–∫–∞ | Backend | Frontend | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|---------|----------|------------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | ~1‚ÄØ413 | ~3‚ÄØ054 | –æ—Ü–µ–Ω–∫–∞ —á–µ—Ä–µ–∑ `py -` —Å–∫—Ä–∏–ø—Ç (–±–µ–∑ .venv/node_modules) |
| –§–∞–π–ª–æ–≤ | 24 | 53 | backend –≤–∫–ª—é—á–∞–µ—Ç `tests/` |
| –§—É–Ω–∫—Ü–∏–π/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | ~63 —Ñ—É–Ω–∫—Ü–∏–π | ~88 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤/—Ö—É–∫–æ–≤ | –ø–æ–¥—Å—á–∏—Ç–∞–Ω—ã –ø–æ `def` –∏ `function/=>` |
| –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ | ~22 —Å—Ç—Ä–æ–∫ | ~35 —Å—Ç—Ä–æ–∫ | —É–∫—Ä—É–ø–Ω—ë–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (LOC/–∫–æ–ª-–≤–æ —Ñ—É–Ω–∫—Ü–∏–π) |
| –ú–∞–∫—Å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | 647 —Å—Ç—Ä–æ–∫ (`backend/pdf_server.py`) | 700 —Å—Ç—Ä–æ–∫ (`frontend/src/components/AnalysisResult.tsx`) | —Å–º. —Å–µ–∫—Ü–∏—é 1C |
| Type coverage | ~35‚ÄØ% (TypedDict + config) | ~70‚ÄØ% (TS strict, –Ω–æ –º–Ω–æ–≥–æ `any`) | –æ—Ü–µ–Ω–∫–∞ –ø–æ –Ω–∞–ª–∏—á–∏—é —Ç–∏–ø–æ–≤ |
| Test coverage | ~40‚ÄØ% (API happy-path) | ~20‚ÄØ% (smoke) | —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π run –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω |
| Lint warnings | 0 (–ª–∏–Ω—Ç–µ—Ä—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã) | 0 (CRA defaults) | eslint/mypy –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ CI |
| Security issues | 3 critical | 0 —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö | —Å–º. —Ä–∞–∑–¥–µ–ª 2A |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ | ~12‚ÄØ% (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö) | ~18‚ÄØ% (export/report –ª–æ–≥–∏–∫–∞) | –æ—Ü–µ–Ω–∫–∞ –≤—Ä—É—á–Ω—É—é |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | 16 | 22 | –ø–æ requirements/package.json |
| –£—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ | ‚â•8 (–≤—Å–µ unpinned) | ‚â•6 (CRA stack) | —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω—ã–π audit |
| –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (avg) | ‚âà10 | ‚âà12 | –æ—Ü–µ–Ω–∫–∞ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ñ—É–Ω–∫—Ü–∏–π |

## 5. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** ‚òë –†–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π happy-path (upload CSV ‚Üí –∞–Ω–∞–ª–∏–∑ ‚Üí PDF) –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏, –Ω–æ –≤ TEST_MODE –∏ –±–µ–∑ TLS/—Å–µ–∫—Ä–µ—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å.
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ (1-10):** –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å 5/10, –°—Ç—Ä—É–∫—Ç—É—Ä–∞ 4/10, –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 6/10, –¢–µ—Å—Ç—ã 4/10, –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å 2/10, –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 4/10. **–ò—Ç–æ–≥:** 4/10.
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥:** –£—Ä–æ–≤–µ–Ω—å ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (—Å–µ–∫—Ä–µ—Ç—ã –≤ git, –Ω–µ—Ç auth, –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ SPA). –û—Ü–µ–Ω–∫–∞ –Ω–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ ‚Äî ~80 —á–∞—Å–æ–≤ (—Å–µ–∫—å—é—Ä–∏—Ç–∏ ‚Üí —Ç–µ—Å—Ç—ã ‚Üí –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è). –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ ‚Äî –¥–∞ (–Ω–µ–ª—å–∑—è –¥–µ–ø–ª–æ–∏—Ç—å, CI –Ω–µ –ª–æ–≤–∏—Ç –±–∞–≥–∏).

## 6. –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞:** SPA + Flask-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã (CSV/Excel/PDF), —Å—Ç—Ä–æ—è—Ç –±–∞–∑–æ–≤—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –ø–µ—Ä–µ–¥–∞—é—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ —Ä–∞–∑–Ω—ã–µ LLM –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –∏ PDF.
- **–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** dev/staging (docker-compose, TEST_MODE=true, –±–µ–∑ TLS). –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–≤—ã—Å–æ–∫–∞—è (single-user demo), –Ω–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å LLM –≤—ã–∑–æ–≤–æ–≤ –≤–∞–∂–Ω–∞.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è ‚Äî –ø—Ä–æ–¥—É–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π, –Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API –≤–∞–∂–Ω–∞ (frontend —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω), –¥–µ–¥–ª–∞–π–Ω–∞ –Ω–µ—Ç, –∫–æ–º–∞–Ω–¥–∞ ‚Äî 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (–ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è), –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è ‚âà 60‚Äì80 —á–∞—Å–æ–≤ –Ω–∞ refactor.

## 7. –ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (JSON)
JSON-–∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–±—Ä–∞–Ω –∏ –ø—Ä–∏–≤–µ–¥—ë–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ü–æ–ª–Ω—ã–π JSON –∫–æ–Ω—Ç–µ–∫—Å—Ç¬ª –Ω–∏–∂–µ (—Å–º. ¬ß8).

## 8. –í—ã–≤–æ–¥

### Executive Summary
–ü—Ä–æ–µ–∫—Ç ‚Äî full-stack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö LLM –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF –æ—Ç—á—ë—Ç–æ–≤. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—á–∞—è, –Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –º–æ–Ω–æ–ª–∏—Ç–æ–≤: `backend/pdf_server.py` –Ω–∞ 600+ —Å—Ç—Ä–æ–∫ –∏ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ 500‚Äì700 —Å—Ç—Ä–æ–∫. –¢–µ—Å—Ç—ã –µ—Å—Ç—å, –Ω–æ CI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω, –ø–æ—ç—Ç–æ–º—É —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ª–µ–≥–∫–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞—é—Ç.

–ö–ª—é—á–µ–≤—ã–µ —Ä–∏—Å–∫–∏ ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ª–µ–∂–∞—Ç —Ä–µ–∞–ª—å–Ω—ã–µ OpenAI/Yandex/GigaChat –∫–ª—é—á–∏, API –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ rate limiting –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –æ–¥–Ω–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º. –°–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ HTTP –∏ –¥–∞–∂–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–±—Å—É–∂–¥–∞—é—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ TLS. –ü–æ–∫–∞ —ç—Ç–æ –Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, –≤—ã–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.

–ü–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤—É –∫–æ–¥–∞ —Ç–æ–∂–µ –Ω–∞–∫–æ–ø–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã: –∞–ª–≥–æ—Ä–∏—Ç–º AI-fill –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—ã–π, —Ñ—Ä–æ–Ω—Ç —Ü–µ–ª–∏–∫–æ–º –¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ –ø–∞–º—è—Ç–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–æ–≥–æ–Ω—è–µ—Ç LLM –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–æ–≥—Ä—É–∑–µ, –ª–æ–≥–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è. –î–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–¥–µ–ª–∏—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–ª–æ–∏, –ø–æ—á–∏–Ω–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø–æ–∫—Ä—ã—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∞–º–∏.

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ (—Ç–æ–ø-5)
1. **[SEC-1]** –°–µ–∫—Ä–µ—Ç—ã OpenAI/Yandex/GigaChat –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ `.env` –∏ `backend/.env` ‚Üí –ª—é–±–æ–π —Ñ–æ—Ä–∫ –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –¥–æ—Å—Ç—É–ø.
2. **[SEC-2]** API –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∫–ª—é—á –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`backend/pdf_server.py:78-111`), –ø–æ—ç—Ç–æ–º—É –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç —Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞—à–∏ LLM –∫—Ä–µ–¥–∏—Ç—ã.
3. **[BUG-3]** `.github/workflows/ci.yml` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –±–ª–æ–∫–∏ –∏ GitHub –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω ‚Üí —Ç–µ—Å—Ç—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è.
4. **[ARCH-1]** `frontend/src/components/AnalysisResult.tsx` (700 —Å—Ç—Ä–æ–∫) —Å–æ–≤–º–µ—â–∞–µ—Ç state-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∏ —ç–∫—Å–ø–æ—Ä—Ç PDF, —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.
5. **[PERF-1]** Endpoint `/api/fill-missing-ai` (`backend/pdf_server.py:525-544`) –∏ –∫–Ω–æ–ø–∫–∞ ‚Äú–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë‚Äù (`frontend/src/App.tsx:205-248`) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ O(N¬≤) –∏ –≥–æ–Ω—è—é—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ LLM-–∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.

### –ü–æ–ª–Ω—ã–π JSON –∫–æ–Ω—Ç–µ–∫—Å—Ç
```json
{
  "project_info": {
    "name": "VCb03",
    "type": "Full-stack LLM data analyzer",
    "status": "working (dev / TEST_MODE)",
    "purpose": "Upload CSV/Excel/PDF datasets of vehicle sales, run multi-LLM analysis, and generate PDF reports."
  },
  "tech_stack": {
    "backend": {
      "language": "Python 3.11-3.12",
      "framework": "Flask 2.x",
      "database": "None",
      "orm": "None",
      "async": "sync only",
      "data_processing": ["pandas", "pdfplumber", "WeasyPrint", "openpyxl"]
    },
    "frontend": {
      "language": "TypeScript 4.9",
      "framework": "React 18 (CRA)",
      "state": "React hooks / local state",
      "bundler": "Create React App / Webpack 5",
      "ui": "MUI 5 + custom CSS",
      "visualization": "Recharts, react-window"
    },
    "integrations": ["OpenAI", "YandexGPT", "GigaChat"]
  },
  "metrics": {
    "size": {
      "total_files": 114,
      "python_lines": 1413,
      "js_lines": 3054,
      "largest_files": [
        {"file": "frontend/src/components/AnalysisResult.tsx", "lines": 700},
        {"file": "backend/pdf_server.py", "lines": 647},
        {"file": "frontend/src/App.tsx", "lines": 496}
      ]
    },
    "quality": {
      "overall_score": 4,
      "readability": 5,
      "structure": 4,
      "documentation": 6,
      "tests": 4,
      "security": 2,
      "performance": 4,
      "test_coverage": 30,
      "type_coverage_backend": 35,
      "type_coverage_frontend": 70,
      "lint_warnings": 0,
      "security_issues": 3
    },
    "complexity": {
      "avg_function_lines": 22,
      "avg_cyclomatic_complexity": 10,
      "duplicated_code_percent": 15
    },
    "dependencies": {
      "backend_packages": 16,
      "frontend_packages": 22,
      "outdated_packages": 8,
      "vulnerable_packages": 0
    }
  },
  "critical_issues": [
    {
      "id": "SEC-1",
      "type": "security",
      "severity": "critical",
      "category": "Hardcoded secrets",
      "file": ".env:2-9, backend/.env:2-11",
      "description": "Real OpenAI/Yandex/GigaChat credentials committed to git in plaintext.",
      "code": "OPENAI_API_KEY=sk-proj-***",
      "risk": "HIGH ‚Äì anyone cloning the repo can call LLMs under our account.",
      "estimated_fix_time": "30 min"
    },
    {
      "id": "SEC-2",
      "type": "security",
      "severity": "critical",
      "category": "Missing authentication",
      "file": "backend/pdf_server.py:78-111",
      "description": "API key check runs only when API_KEY env is set; default config leaves endpoints open.",
      "code": "if API_KEY:\n    provided = request.headers.get('X-API-Key')\n    if provided != API_KEY: ...",
      "risk": "HIGH ‚Äì unauthenticated clients can spend LLM credits and access uploads.",
      "estimated_fix_time": "1 hour"
    },
    {
      "id": "SEC-3",
      "type": "security",
      "severity": "critical",
      "category": "Rate limiting bypass",
      "file": "backend/pdf_server.py:78-105",
      "description": "_client_id() trusts X-Forwarded-For from the user, so attackers can rotate IDs and skip throttling.",
      "code": "return request.headers.get('X-Forwarded-For', request.remote_addr or 'unknown')",
      "risk": "HIGH ‚Äì enables unlimited LLM calls / DoS.",
      "estimated_fix_time": "45 min"
    },
    {
      "id": "BUG-1",
      "type": "bug",
      "severity": "critical",
      "category": "CI misconfiguration",
      "file": ".github/workflows/ci.yml:1-113",
      "description": "Workflow has duplicate root keys; the backend/frontend test job defined first is ignored by GitHub.",
      "risk": "HIGH ‚Äì regressions ship unnoticed because tests never run.",
      "estimated_fix_time": "30 min"
    }
  ],
  "high_priority_issues": [
    {
      "id": "ARCH-1",
      "type": "architecture",
      "severity": "high",
      "category": "Monolithic component",
      "file": "frontend/src/components/AnalysisResult.tsx:1-700",
      "description": "Single component mixes filters, charts, export, AI interactions; impossible to test or reuse pieces.",
      "impact": "Large bundles, tangled state, slow iteration.",
      "estimated_fix_time": "6 hours"
    },
    {
      "id": "ARCH-2",
      "type": "architecture",
      "severity": "high",
      "category": "God object in App",
      "file": "frontend/src/App.tsx:1-496",
      "description": "Root component owns uploads, dialogs, AI fill, pagination and error handling.",
      "impact": "State explosion, side effects everywhere, hard to reason about failures.",
      "estimated_fix_time": "5 hours"
    },
    {
      "id": "PERF-1",
      "type": "performance",
      "severity": "high",
      "category": "Inefficient missing-value handling",
      "file": "backend/pdf_server.py:525-544, frontend/src/App.tsx:205-248",
      "description": "Server loops over the entire DataFrame per empty cell, while the client keeps all pages in memory and reruns LLM analysis each time.",
      "impact": "Quadratic CPU usage and expensive repeated LLM calls on large datasets.",
      "estimated_fix_time": "6 hours"
    }
  ],
  "medium_priority_issues": [
    {
      "id": "QUALITY-1",
      "type": "code_quality",
      "severity": "medium",
      "category": "Missing type hints",
      "file": "backend/pdf_server.py (multiple functions)",
      "description": "Core Flask handlers lack type hints/docstrings; inputs/outputs unclear.",
      "impact": "Increases onboarding time and risk of accidental regressions.",
      "estimated_fix_time": "4 hours"
    },
    {
      "id": "QUALITY-2",
      "type": "code_quality",
      "severity": "medium",
      "category": "Duplicated normalization logic",
      "file": "backend/pdf_server.py:372-390 & 586-603",
      "description": "Required fields normalization copy-pasted for upload and pagination endpoints.",
      "impact": "Any change must be done twice, easy to desync behavior.",
      "estimated_fix_time": "2 hours"
    },
    {
      "id": "INFRA-1",
      "type": "infrastructure",
      "severity": "medium",
      "category": "Binary fixtures in git",
      "file": "car_prices.csv/xlsx, test_cars-*.csv",
      "description": "Large sample datasets tracked directly in git instead of Git LFS.",
      "impact": "Slow clones/CI and bloated repository size.",
      "estimated_fix_time": "2 hours"
    }
  ],
  "low_priority_issues": [
    {
      "id": "DOC-1",
      "type": "documentation",
      "severity": "low",
      "category": "Outdated dev-mode focus",
      "description": "README/instruction-no-ssl only cover localhost/TestMode scenarios and mention disabling TLS verification.",
      "impact": "No guidance for staging/prod setup.",
      "estimated_fix_time": "2 hours"
    }
  ],
  "technical_debt": {
    "level": "critical",
    "estimated_hours": 80,
    "blocks_development": true,
    "main_blockers": [
      "Secrets are leaked via .env and API lacks enforcement.",
      "Monolithic React/Flask files make any change risky.",
      "CI misconfiguration means regressions go unnoticed."
    ]
  },
  "constraints": {
    "backward_compatibility": true,
    "deadline": "none",
    "team_size": 1,
    "available_time_hours": 60
  }
}
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- [ ] –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ –±–µ–∑ –ø–∞—É–∑—ã  
- [x] **–°–µ—Ä—å—ë–∑–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (4‚Äì7/10)**  
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å –Ω—É–ª—è (<4/10)

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π: (1) —É–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ —Ä–µ–ø–æ, –≤–≤–µ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π API –∫–ª—é—á –∏ HTTPS; (2) –ø–æ—á–∏–Ω–∏—Ç—å CI –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑; (3) —Ä–∞—Å–ø–∏–ª–∏—Ç—å `pdf_server.py` –∏ –∫—Ä—É–ø–Ω—ã–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤.
